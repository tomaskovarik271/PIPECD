# üß™ PipeCD Relationship Intelligence Platform - Comprehensive Testing Guide

## üìã **Testing Overview**

This comprehensive testing guide covers the newly implemented Relationship Intelligence Platform, ensuring all features work correctly across different scenarios, browsers, and user types.

---

## üéØ **Testing Scope**

### **Components Under Test:**
- ‚úÖ **StakeholderNetworkVisualization.tsx** - Interactive D3.js network visualization
- ‚úÖ **StakeholderAnalysisDashboard.tsx** - AI-powered analytics dashboard  
- ‚úÖ **RelationshipIntelligencePage.tsx** - Main interface with context selection
- ‚úÖ **Navigation Integration** - Sidebar routing and breadcrumbs
- ‚úÖ **GraphQL Integration** - Backend data fetching
- ‚úÖ **Theme Compatibility** - Light/dark mode support

### **Testing Types:**
- üî¨ **Unit Testing** - Component logic and functions
- üîó **Integration Testing** - Component interactions
- üë§ **User Acceptance Testing** - End-to-end workflows
- üé® **Visual Testing** - UI consistency and responsiveness
- ‚ö° **Performance Testing** - Load times and animations
- ‚ôø **Accessibility Testing** - WCAG compliance
- üåê **Cross-Browser Testing** - Multi-platform compatibility

---

## üöÄ **Pre-Testing Setup**

### **Environment Preparation:**
```bash
# 1. Ensure development server is running
npm run dev

# 2. Verify database is seeded with test data
# Check that relationship tables have sample data

# 3. Confirm user has appropriate permissions
# Test with both admin and regular user accounts

# 4. Clear browser cache and localStorage
# Start with clean state for each test session
```

### **Test Data Requirements:**
- **Organizations**: At least 3 test organizations with different industries
- **People**: 10+ people with varied roles and seniority levels
- **Relationships**: Mix of reports-to, collaborates, influences relationships
- **Stakeholder Analysis**: Records with different influence scores (1-10)
- **Custom Fields**: LinkedIn Profile field populated for some records

---

## üß≠ **Navigation & Access Testing**

### **TC-NAV-001: Sidebar Navigation**
**Objective:** Verify Relationship Intelligence appears in sidebar navigation

**Steps:**
1. Log in to PipeCD application
2. Locate sidebar navigation menu
3. Look for "Relationship Intelligence" option with Network icon
4. Click on the navigation item

**Expected Results:**
- ‚úÖ "Relationship Intelligence" appears in main navigation
- ‚úÖ Network icon (üåê) displays correctly
- ‚úÖ Click navigates to `/relationships` route
- ‚úÖ Page loads without errors
- ‚úÖ Active state highlights properly

**Test Data:** Any valid user account

---

### **TC-NAV-002: URL Direct Access**
**Objective:** Verify direct URL access works correctly

**Steps:**
1. Navigate directly to `http://localhost:3000/relationships`
2. Verify page loads correctly
3. Check breadcrumb navigation
4. Test browser back/forward buttons

**Expected Results:**
- ‚úÖ Page loads directly from URL
- ‚úÖ Breadcrumb shows "Dashboard > Relationship Intelligence"
- ‚úÖ Browser navigation works correctly
- ‚úÖ No 404 errors or broken routes

---

## üè¢ **Context Selection Testing**

### **TC-CTX-001: Organization Selection**
**Objective:** Test organization dropdown functionality

**Steps:**
1. Navigate to Relationship Intelligence page
2. Observe organization dropdown in Analysis Context section
3. Click dropdown to view available organizations
4. Select different organizations
5. Verify data updates accordingly

**Expected Results:**
- ‚úÖ Organizations load in dropdown with (Industry) format
- ‚úÖ Placeholder text "Select organization..." displays when none selected
- ‚úÖ Selection triggers data refresh
- ‚úÖ Previously selected deal/lead clears when org changes
- ‚úÖ Context alert updates to show selected organization

**Test Data:** Organizations: Acme Corporation, Global Industries Inc, TechStart Innovations

---

### **TC-CTX-002: Deal Context Selection**
**Objective:** Test optional deal context filtering

**Steps:**
1. Select an organization first
2. Click Deal Context dropdown
3. Verify deals are available for selection
4. Select a deal
5. Verify lead selection clears
6. Check context description updates

**Expected Results:**
- ‚úÖ Dropdown disabled until organization selected
- ‚úÖ Deals show with value in format: "Title ($Value)"
- ‚úÖ Lead selection clears when deal selected
- ‚úÖ Context shows "Deal: Title ($Value)" format
- ‚úÖ Network data filters by deal context

**Test Data:** Deals with different values and stages

---

### **TC-CTX-003: Lead Context Selection**
**Objective:** Test optional lead context filtering

**Steps:**
1. Select an organization first
2. Click Lead Context dropdown  
3. Select a lead
4. Verify deal selection clears
5. Check context description updates

**Expected Results:**
- ‚úÖ Dropdown disabled until organization selected
- ‚úÖ Leads show with score: "Title (Score: XX)"
- ‚úÖ Deal selection clears when lead selected
- ‚úÖ Context shows "Lead: Title (Score: XX)" format
- ‚úÖ Network data filters by lead context

---

### **TC-CTX-004: Search Functionality**
**Objective:** Test stakeholder search input

**Steps:**
1. Enter text in "Search Stakeholders" field
2. Try various search terms:
   - Person names
   - Job titles
   - Department names
   - Partial matches
3. Verify search icon displays
4. Test clearing search

**Expected Results:**
- ‚úÖ Search icon appears in input field
- ‚úÖ Placeholder text is descriptive
- ‚úÖ Input accepts text without errors
- ‚úÖ Search functionality (if implemented) works
- ‚úÖ Clear search resets results

---

## üåê **Network Visualization Testing**

### **TC-VIZ-001: Basic Network Loading**
**Objective:** Verify network visualization loads correctly

**Steps:**
1. Select an organization
2. Navigate to "Network Map" tab
3. Wait for network to load
4. Observe initial network state

**Expected Results:**
- ‚úÖ SVG canvas renders at specified height (700px)
- ‚úÖ Network nodes appear as circles
- ‚úÖ Connections (links) render between nodes
- ‚úÖ Loading indicator shows during layout optimization
- ‚úÖ "Optimizing layout..." message appears briefly

**Performance Criteria:**
- Network should load within 3 seconds
- Animation should be smooth (60fps)
- No memory leaks during rendering

---

### **TC-VIZ-002: Node Interaction**
**Objective:** Test node clicking and selection

**Steps:**
1. Load network visualization
2. Click on different stakeholder nodes
3. Verify selection feedback
4. Check stakeholder details panel appears

**Expected Results:**
- ‚úÖ Nodes are clickable (cursor changes to pointer)
- ‚úÖ Click triggers stakeholder selection
- ‚úÖ Toast notification shows: "Selected: [Name]"
- ‚úÖ "Stakeholder Details" panel appears below network
- ‚úÖ Details show complete stakeholder information

**Test Data:** Nodes with different influence scores and roles

---

### **TC-VIZ-003: Node Drag Functionality**  
**Objective:** Test drag-and-drop node positioning

**Steps:**
1. Load network visualization
2. Click and drag various nodes
3. Release nodes in different positions
4. Verify drag behavior and physics simulation

**Expected Results:**
- ‚úÖ Nodes can be dragged smoothly
- ‚úÖ Dragging temporarily fixes node position
- ‚úÖ Other nodes adjust to maintain network layout
- ‚úÖ Released nodes return to physics simulation
- ‚úÖ Network re-stabilizes after drag operations

---

### **TC-VIZ-004: Hover Effects**
**Objective:** Test node hover interactions

**Steps:**
1. Hover over different stakeholder nodes
2. Observe visual feedback
3. Move mouse away and verify reset
4. Test hover on connected vs unconnected nodes

**Expected Results:**
- ‚úÖ Hovered node remains at full opacity
- ‚úÖ Connected nodes remain visible (opacity: 1)
- ‚úÖ Unconnected nodes fade (opacity: 0.3)
- ‚úÖ Connected links highlight (opacity: 1)  
- ‚úÖ Unconnected links fade (opacity: 0.1)
- ‚úÖ Mouse leave resets all opacities

---

### **TC-VIZ-005: Zoom and Pan**
**Objective:** Test zoom and pan functionality

**Steps:**
1. Use mouse wheel to zoom in/out
2. Click and drag background to pan
3. Test zoom limits (0.1x to 4x)
4. Verify smooth zoom transitions

**Expected Results:**
- ‚úÖ Mouse wheel zooms smoothly
- ‚úÖ Zoom limits enforced (min: 0.1x, max: 4x)
- ‚úÖ Pan works by dragging background
- ‚úÖ Zoom centers on mouse cursor position
- ‚úÖ Network layout scales proportionally

---

### **TC-VIZ-006: View Mode Switching**
**Objective:** Test different visualization modes

**Steps:**
1. Load network visualization
2. Click "Influence" tab
3. Click "Engagement" tab  
4. Click "Hierarchy" tab
5. Verify visual changes and legend updates

**Expected Results:**

**Influence Mode:**
- ‚úÖ Nodes use red gradient colors
- ‚úÖ Legend shows "Low Influence (1-3)" and "High Influence (8-10)"
- ‚úÖ Node size correlates with influence score

**Engagement Mode:**
- ‚úÖ Champion = Green (#22c55e)
- ‚úÖ Supporter = Light Green (#84cc16)
- ‚úÖ Neutral = Gray (#64748b)
- ‚úÖ Skeptic = Yellow (#f59e0b)
- ‚úÖ Blocker = Red (#ef4444)

**Hierarchy Mode:**
- ‚úÖ Founder = Purple (#7c3aed)
- ‚úÖ C-Level = Red (#dc2626) 
- ‚úÖ VP = Orange (#ea580c)
- ‚úÖ Director = Dark Orange (#d97706)
- ‚úÖ Manager = Green (#65a30d)

---

### **TC-VIZ-007: Authority Indicators**
**Objective:** Test decision authority visual indicators

**Steps:**
1. Load network with stakeholders having different authority levels
2. Identify nodes with authority indicators
3. Verify correct icons for each authority type

**Expected Results:**
- ‚úÖ Final Decision = Crown emoji (üëë)
- ‚úÖ Strong Influence = Lightning emoji (‚ö°)
- ‚úÖ Gatekeeper = Shield emoji (üõ°Ô∏è)
- ‚úÖ Icons render clearly within node circles
- ‚úÖ Icons are white color for visibility
- ‚úÖ Only authority roles show icons

---

### **TC-VIZ-008: Legend Accuracy**
**Objective:** Verify legend information is accurate

**Steps:**
1. Switch between different view modes
2. Compare legend with actual node colors
3. Verify authority icons section
4. Check legend positioning and styling

**Expected Results:**
- ‚úÖ Legend updates dynamically based on view mode
- ‚úÖ Colors in legend match node colors exactly
- ‚úÖ Authority icons section shows correct emojis
- ‚úÖ Legend positioned at top-left with proper styling
- ‚úÖ Legend background is white with shadow
- ‚úÖ Text is readable and well-formatted

---

## üìä **Analysis Dashboard Testing**

### **TC-DASH-001: Dashboard Loading**
**Objective:** Test analysis dashboard loads correctly

**Steps:**
1. Navigate to "Analysis Dashboard" tab
2. Wait for data to load
3. Verify all dashboard sections appear

**Expected Results:**
- ‚úÖ Loading spinner shows during data fetch
- ‚úÖ "Analyzing stakeholder network..." message displays
- ‚úÖ Dashboard loads within 3 seconds
- ‚úÖ All stat cards render correctly
- ‚úÖ No JavaScript errors in console

---

### **TC-DASH-002: Coverage Statistics**
**Objective:** Verify coverage percentage calculations

**Steps:**
1. Review Coverage Percentage card
2. Check calculation accuracy
3. Verify color coding
4. Test different scenarios

**Expected Results:**
- ‚úÖ Coverage percentage displays as "XX.X%"
- ‚úÖ Green color for ‚â•75% coverage
- ‚úÖ Orange color for <75% coverage
- ‚úÖ Helper text shows "X of Y roles covered"
- ‚úÖ Arrow indicator matches coverage level

**Test Scenarios:**
- High coverage (>75%): Should show green with up arrow
- Low coverage (<75%): Should show orange with down arrow

---

### **TC-DASH-003: Seniority Breakdown**
**Objective:** Test seniority level coverage visualization

**Steps:**
1. Locate "Seniority Level Coverage" card
2. Verify all seniority levels listed
3. Check progress bars and counts
4. Verify icons for each level

**Expected Results:**
- ‚úÖ All seniority levels shown (c_level, vp, director, manager, etc.)
- ‚úÖ Progress bars scale relative to maximum count
- ‚úÖ Blue progress bars for counts > 0
- ‚úÖ Gray progress bars for counts = 0
- ‚úÖ Correct icons: Crown for c_level, Shield for vp, etc.
- ‚úÖ Text transforms "c_level" to "C Level"

---

### **TC-DASH-004: Department Coverage**
**Objective:** Test department coverage analysis

**Steps:**
1. Review "Department Coverage" card
2. Check all departments listed
3. Verify status indicators
4. Test progress bar calculations

**Expected Results:**
- ‚úÖ All departments shown with counts
- ‚úÖ Green checkmark for departments with stakeholders
- ‚úÖ Red X for departments with 0 stakeholders
- ‚úÖ Green progress bars for coverage > 0
- ‚úÖ Red progress bars for no coverage
- ‚úÖ Progress scales relative to department with most stakeholders

---

### **TC-DASH-005: Network Intelligence Insights**
**Objective:** Test business intelligence-generated insights section

**Steps:**
1. Locate "Network Intelligence Insights" section
2. Review different insight types
3. Verify priority indicators
4. Check insight messages

**Expected Results:**
- ‚úÖ Insights display with appropriate icons
- ‚úÖ High priority = Red background + AlertTriangle icon
- ‚úÖ Medium priority = Yellow background + Target icon  
- ‚úÖ No priority = Blue background + TrendingUp icon
- ‚úÖ Insight messages are clear and actionable
- ‚úÖ Border colors match priority levels

**Test Data:** Mix of risk_alert, opportunity, and coverage_gap insights

---

### **TC-DASH-006: Priority Missing Roles**
**Objective:** Test missing stakeholder identification

**Steps:**
1. Review "Priority Missing Roles" section
2. Check role recommendations
3. Verify priority badges
4. Test "Add Stakeholder" buttons

**Expected Results:**
- ‚úÖ Missing roles display with titles
- ‚úÖ Priority badges show correct colors (red=high, yellow=medium, green=low)
- ‚úÖ "Why" section explains importance
- ‚úÖ "Approach" section provides strategy
- ‚úÖ "Add Stakeholder" button renders correctly
- ‚úÖ Empty state shows "No high-priority gaps identified"

---

### **TC-DASH-007: Recommended Actions**
**Objective:** Test action recommendations section

**Steps:**
1. Locate "Recommended Actions" card
2. Review suggested actions
3. Test action buttons
4. Verify priority indicators

**Expected Results:**
- ‚úÖ Actions display with clear descriptions
- ‚úÖ Priority badges use correct colors
- ‚úÖ "Take Action" button is primary blue
- ‚úÖ "Schedule" button is outline with clock icon
- ‚úÖ Maximum 5 actions shown
- ‚úÖ Empty state handled gracefully

---

### **TC-DASH-008: Summary Analysis**
**Objective:** Test dashboard summary card

**Steps:**
1. Scroll to bottom "Analysis Summary" section
2. Verify summary statistics accuracy
3. Check formatting and highlighting

**Expected Results:**
- ‚úÖ Blue background with proper contrast
- ‚úÖ Coverage percentage matches other displays
- ‚úÖ Stakeholder count is accurate
- ‚úÖ Department count is correct
- ‚úÖ High-priority gaps count matches Priority Missing Roles
- ‚úÖ Bold text highlights key numbers
- ‚úÖ Summary provides actionable guidance

---

### **TC-DASH-009: Refresh Functionality**
**Objective:** Test dashboard refresh capability

**Steps:**
1. Click refresh button (circular arrow icon)
2. Observe loading state
3. Verify data updates
4. Test multiple refreshes

**Expected Results:**
- ‚úÖ Refresh button shows spinner when clicked
- ‚úÖ Button disabled during refresh
- ‚úÖ Loading completes within 2 seconds
- ‚úÖ Data refreshes successfully
- ‚úÖ No errors during refresh operation

---

## üéÆ **User Experience Testing**

### **TC-UX-001: First-Time User Experience**
**Objective:** Test experience for new users

**Steps:**
1. Clear all application data
2. Log in as new user
3. Navigate to Relationship Intelligence
4. Follow natural user flow

**Expected Results:**
- ‚úÖ Page loads without selected organization
- ‚úÖ Helpful "Select an Organization" message displays
- ‚úÖ Building icon and descriptive text guide user
- ‚úÖ Organization selection is intuitive
- ‚úÖ Context alert explains current selection
- ‚úÖ Network loads immediately after organization selection

---

### **TC-UX-002: Error Handling**
**Objective:** Test error scenarios and recovery

**Steps:**
1. Test with network disconnected
2. Test with invalid organization ID
3. Test with corrupted data
4. Verify error messages and recovery

**Expected Results:**
- ‚úÖ Network errors show user-friendly messages
- ‚úÖ Loading states handle timeouts gracefully
- ‚úÖ Invalid data doesn't crash application
- ‚úÖ User can retry failed operations
- ‚úÖ Error toast notifications are informative

---

### **TC-UX-003: Loading States**
**Objective:** Verify all loading states work correctly

**Steps:**
1. Test initial page load
2. Test organization switching
3. Test tab switching
4. Test refresh operations

**Expected Results:**
- ‚úÖ Initial load shows "Loading Relationship Intelligence..."
- ‚úÖ Context changes show appropriate loading
- ‚úÖ Network optimization shows "Optimizing layout..."
- ‚úÖ Dashboard shows "Analyzing stakeholder network..."
- ‚úÖ All spinners are properly sized and positioned

---

### **TC-UX-004: Toast Notifications**
**Objective:** Test user feedback notifications

**Steps:**
1. Select stakeholders in network view
2. Use action buttons
3. Test export and share functions
4. Verify notification content and timing

**Expected Results:**
- ‚úÖ Stakeholder selection shows: "Selected: [Name]"
- ‚úÖ Network analysis shows: "Analyzing Network"
- ‚úÖ Missing stakeholders shows: "AI is analyzing gaps..."
- ‚úÖ Export shows: "Export Started"
- ‚úÖ Share shows: "Share Link Created"
- ‚úÖ All toasts auto-dismiss after appropriate time

---

## üì± **Responsive Design Testing**

### **TC-RESP-001: Desktop Resolutions**
**Objective:** Test on various desktop screen sizes

**Screen Sizes to Test:**
- 1920x1080 (Full HD)
- 1440x900 (MacBook Air)
- 1366x768 (Standard laptop)
- 1280x720 (HD)

**Expected Results:**
- ‚úÖ All components scale appropriately
- ‚úÖ Network visualization maintains aspect ratio
- ‚úÖ Dashboard cards use responsive grid
- ‚úÖ Text remains readable at all sizes
- ‚úÖ No horizontal scrolling required

---

### **TC-RESP-002: Tablet Testing**
**Objective:** Test tablet compatibility

**Screen Sizes:**
- iPad (768x1024)
- iPad Pro (1024x1366)
- Android tablets (various)

**Expected Results:**
- ‚úÖ Interface adapts to touch interactions
- ‚úÖ Grid layouts adjust to available space
- ‚úÖ Network remains interactive
- ‚úÖ All buttons are touch-friendly (minimum 44px)

---

### **TC-RESP-003: Mobile Testing**
**Objective:** Test mobile phone compatibility

**Screen Sizes:**
- iPhone SE (375x667)
- iPhone 12 (390x844)
- Samsung Galaxy (360x740)

**Expected Results:**
- ‚úÖ Grid stacks to single column
- ‚úÖ Network visualization remains functional
- ‚úÖ Text is readable without zooming
- ‚úÖ Navigation remains accessible

---

## ‚ôø **Accessibility Testing**

### **TC-A11Y-001: Keyboard Navigation**
**Objective:** Test keyboard-only navigation

**Steps:**
1. Navigate using only Tab key
2. Test Enter/Space key interactions
3. Test Escape key for dismissing elements
4. Verify focus indicators

**Expected Results:**
- ‚úÖ All interactive elements focusable
- ‚úÖ Tab order is logical
- ‚úÖ Focus indicators visible
- ‚úÖ Enter/Space activate buttons
- ‚úÖ No keyboard traps

---

### **TC-A11Y-002: Screen Reader Testing**
**Objective:** Test with screen reader software

**Tools:** NVDA, JAWS, or VoiceOver

**Expected Results:**
- ‚úÖ All elements have appropriate ARIA labels
- ‚úÖ Headings create proper document structure
- ‚úÖ Images have alt text
- ‚úÖ Form controls have labels
- ‚úÖ Status updates are announced

---

### **TC-A11Y-003: Color Contrast**
**Objective:** Verify color contrast meets WCAG standards

**Tools:** axe-core, Colour Contrast Analyser

**Expected Results:**
- ‚úÖ Text contrast ratio ‚â• 4.5:1 (normal text)
- ‚úÖ Large text contrast ratio ‚â• 3:1
- ‚úÖ Interactive elements meet contrast requirements
- ‚úÖ Color is not the only way to convey information

---

## üåê **Cross-Browser Testing**

### **TC-BROWSER-001: Chrome Testing**
**Versions:** Latest stable, Previous major version

**Expected Results:**
- ‚úÖ All features work correctly
- ‚úÖ D3.js animations smooth
- ‚úÖ SVG rendering correct
- ‚úÖ No console errors

---

### **TC-BROWSER-002: Firefox Testing**
**Versions:** Latest stable, ESR

**Expected Results:**
- ‚úÖ Feature parity with Chrome
- ‚úÖ CSS Grid layouts correct
- ‚úÖ Network visualization functions
- ‚úÖ Theme switching works

---

### **TC-BROWSER-003: Safari Testing**
**Versions:** Latest macOS, Latest iOS

**Expected Results:**
- ‚úÖ WebKit-specific features work
- ‚úÖ Touch interactions on iOS
- ‚úÖ SVG animations perform well
- ‚úÖ Memory usage acceptable

---

### **TC-BROWSER-004: Edge Testing**
**Versions:** Latest Chromium-based

**Expected Results:**
- ‚úÖ All Chromium features supported
- ‚úÖ Windows-specific interactions
- ‚úÖ Performance comparable to Chrome

---

## ‚ö° **Performance Testing**

### **TC-PERF-001: Initial Load Performance**
**Objective:** Measure page load times

**Metrics to Track:**
- Time to First Byte (TTFB)
- First Contentful Paint (FCP)
- Largest Contentful Paint (LCP)
- Time to Interactive (TTI)

**Performance Targets:**
- ‚úÖ FCP < 1.8 seconds
- ‚úÖ LCP < 2.5 seconds
- ‚úÖ TTI < 3.8 seconds
- ‚úÖ No layout shifts (CLS < 0.1)

---

### **TC-PERF-002: Network Visualization Performance**
**Objective:** Test D3.js rendering performance

**Test Scenarios:**
- 10 nodes, 15 relationships
- 25 nodes, 40 relationships  
- 50 nodes, 80 relationships
- 100 nodes, 150 relationships

**Performance Expectations:**
- ‚úÖ Smooth 60fps animation
- ‚úÖ Initial render < 500ms
- ‚úÖ Interaction response < 16ms
- ‚úÖ Memory usage stable

---

### **TC-PERF-003: Memory Usage**
**Objective:** Monitor memory consumption

**Steps:**
1. Load relationship intelligence page
2. Switch between organizations
3. Change visualization modes
4. Monitor for memory leaks

**Expected Results:**
- ‚úÖ Memory usage stays under 100MB
- ‚úÖ No memory leaks during normal use
- ‚úÖ Garbage collection occurs properly
- ‚úÖ DOM nodes cleaned up on unmount

---

## üìã **Data Validation Testing**

### **TC-DATA-001: Mock Data Accuracy**
**Objective:** Verify mock data represents realistic scenarios

**Validation Points:**
- ‚úÖ Stakeholder data has required fields
- ‚úÖ Influence scores are 1-10 range
- ‚úÖ Relationship types are valid enums
- ‚úÖ Department coverage represents real organizations
- ‚úÖ Seniority levels span org hierarchy

---

### **TC-DATA-002: Edge Cases**
**Objective:** Test with edge case data

**Test Scenarios:**
- Empty organization (no stakeholders)
- Single stakeholder (no relationships)
- All stakeholders same influence score
- Missing optional data fields
- Circular relationships

**Expected Results:**
- ‚úÖ Empty states handled gracefully
- ‚úÖ Single nodes render correctly
- ‚úÖ Uniform data doesn't break visualizations
- ‚úÖ Missing data uses defaults
- ‚úÖ Circular relationships prevented or handled

---

## üß© **Integration Testing**

### **TC-INT-001: GraphQL Integration**
**Objective:** Test GraphQL query integration points

**Steps:**
1. Verify GraphQL schema imports correctly
2. Test query structure matches expected data
3. Check error handling for failed queries
4. Validate data transformations

**Expected Results:**
- ‚úÖ GraphQL types imported without errors
- ‚úÖ Query structure supports all UI requirements
- ‚úÖ Network errors handled gracefully
- ‚úÖ Data transformation functions work correctly

---

### **TC-INT-002: Theme Integration**
**Objective:** Test theme compatibility

**Steps:**
1. Switch between available themes
2. Verify color tokens work correctly
3. Test light/dark mode compatibility
4. Check custom theme support

**Expected Results:**
- ‚úÖ All themes render correctly
- ‚úÖ Color contrast maintained in all themes
- ‚úÖ Network visualization adapts to themes
- ‚úÖ Dashboard components respect theme colors

---

### **TC-INT-003: Navigation Integration**
**Objective:** Test routing and navigation

**Steps:**
1. Test all navigation paths to relationships page
2. Verify breadcrumb accuracy
3. Test browser navigation (back/forward)
4. Check deep linking support

**Expected Results:**
- ‚úÖ All routes function correctly
- ‚úÖ Breadcrumbs update properly
- ‚úÖ Browser navigation works
- ‚úÖ Deep links load correct state

---

## üéØ **User Acceptance Testing**

### **UAT-001: Sales Representative Workflow**
**Persona:** Sarah, Sales Rep

**Scenario:** "I need to understand the stakeholder network for Acme Corporation before my next meeting."

**Steps:**
1. Navigate to Relationship Intelligence
2. Select "Acme Corporation"
3. Review network visualization
4. Identify key decision makers
5. Check for missing stakeholders

**Success Criteria:**
- ‚úÖ Can quickly identify all current stakeholders
- ‚úÖ Understands reporting relationships visually
- ‚úÖ Spots influence patterns immediately
- ‚úÖ Gets recommendations for missing contacts
- ‚úÖ Feels confident about next meeting

---

### **UAT-002: Sales Manager Workflow**
**Persona:** Marcus, Sales Manager

**Scenario:** "I need to review my team's relationship coverage across all active deals."

**Steps:**
1. Review multiple organizations
2. Check coverage percentages
3. Identify systematic gaps
4. Plan territory adjustments

**Success Criteria:**
- ‚úÖ Can compare coverage across organizations
- ‚úÖ Spots patterns in missing stakeholder types
- ‚úÖ Understands team's relationship strengths/weaknesses
- ‚úÖ Can make data-driven territory decisions

---

### **UAT-003: Account Executive Workflow**
**Persona:** Lisa, Account Executive

**Scenario:** "I'm working on a complex enterprise deal and need to map all influencers."

**Steps:**
1. Select organization and specific deal
2. Use influence view mode
3. Identify champions and blockers
4. Plan engagement strategy

**Success Criteria:**
- ‚úÖ Can filter network by specific deal
- ‚úÖ Easily identifies high-influence stakeholders
- ‚úÖ Understands engagement levels at a glance
- ‚úÖ Gets actionable next steps from AI insights

---

## üìä **Test Execution Tracking**

### **Test Matrix Template**
```
| Test Case | Priority | Status | Browser | Notes | Date |
|-----------|----------|--------|---------|--------|------|
| TC-NAV-001 | High | ‚è≥ | Chrome | | |
| TC-VIZ-001 | High | ‚è≥ | Chrome | | |
| TC-DASH-001 | High | ‚è≥ | Chrome | | |
```

### **Bug Report Template**
```markdown
**Bug ID:** BUG-RI-001
**Title:** Network nodes disappear on zoom out
**Severity:** Medium
**Priority:** High
**Reporter:** [Name]
**Date:** [Date]

**Environment:**
- Browser: Chrome 119.0
- OS: macOS 14.0
- Screen: 1440x900

**Steps to Reproduce:**
1. Load network visualization
2. Zoom out to minimum (0.1x)
3. Observe nodes

**Expected Result:** Nodes should remain visible
**Actual Result:** Nodes disappear completely
**Workaround:** Zoom back in to 0.2x or higher

**Screenshots:** [Attach]
**Console Errors:** [Paste]
```

---

## üöÄ **Automated Testing Setup**

### **Unit Tests (Jest + React Testing Library)**
```typescript
// Example test structure
describe('StakeholderNetworkVisualization', () => {
  test('renders network canvas', () => {
    render(<StakeholderNetworkVisualization organizationId="1" />);
    expect(screen.getByTestId('network-svg')).toBeInTheDocument();
  });

  test('handles node selection', () => {
    const onSelect = jest.fn();
    render(<StakeholderNetworkVisualization 
      organizationId="1" 
      onStakeholderSelect={onSelect} 
    />);
    // Test node click interactions
  });
});
```

### **E2E Tests (Playwright)**
```typescript
// Example E2E test
test('complete relationship intelligence workflow', async ({ page }) => {
  await page.goto('/relationships');
  await page.selectOption('[data-testid=org-select]', '1');
  await page.click('[data-testid=network-tab]');
  await expect(page.locator('[data-testid=network-svg]')).toBeVisible();
  await page.click('[data-testid=stakeholder-node-1]');
  await expect(page.locator('[data-testid=stakeholder-details]')).toBeVisible();
});
```

### **Visual Regression Tests (Chromatic/Percy)**
```typescript
// Example visual test
test('network visualization visual consistency', async ({ page }) => {
  await page.goto('/relationships');
  await page.selectOption('[data-testid=org-select]', '1');
  await page.waitForLoadState('networkidle');
  await expect(page).toHaveScreenshot('network-default-view.png');
});
```

---

## üìà **Performance Monitoring**

### **Lighthouse Scoring Targets**
- **Performance:** ‚â• 90
- **Accessibility:** ‚â• 95
- **Best Practices:** ‚â• 90
- **SEO:** ‚â• 85

### **Core Web Vitals**
- **LCP:** < 2.5s (Good)
- **FID:** < 100ms (Good)
- **CLS:** < 0.1 (Good)

### **Custom Metrics**
- Network rendering time: < 500ms
- Dashboard load time: < 1s
- Memory usage: < 100MB
- Frame rate: 60fps sustained

---

## üéâ **Test Completion Criteria**

### **Definition of Done:**
- ‚úÖ All High/Critical test cases pass
- ‚úÖ No blocking bugs remain
- ‚úÖ Performance targets met
- ‚úÖ Accessibility requirements satisfied
- ‚úÖ Cross-browser compatibility confirmed
- ‚úÖ User acceptance criteria validated
- ‚úÖ Documentation updated

### **Release Readiness Checklist:**
- [ ] All test cases executed
- [ ] Bug triage completed
- [ ] Performance benchmarks met
- [ ] Accessibility audit passed
- [ ] User acceptance tests signed off
- [ ] Documentation reviewed
- [ ] Stakeholder approval obtained

---

## üìû **Support & Escalation**

### **Test Environment Issues:**
- **Contact:** DevOps Team
- **Slack:** #devops-support
- **Priority:** Blocker issues halt testing

### **Feature Questions:**
- **Contact:** Development Team
- **Slack:** #relationship-intelligence
- **Priority:** Clarification needed for test cases

### **Bug Triage:**
- **Contact:** Product Team
- **Slack:** #product-triage
- **Priority:** Severity assessment and prioritization

---

**üìã Status: Ready for Testing** ‚úÖ
**üéØ Coverage: Comprehensive** 
**‚ö° Priority: Ship-Critical**

*"Quality is not an act, it is a habit. Test with precision, ship with confidence."* 